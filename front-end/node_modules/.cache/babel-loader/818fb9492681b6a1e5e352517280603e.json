{"ast":null,"code":"import _classCallCheck from \"C:\\\\Sibela\\\\Own work\\\\agile-advantage\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Sibela\\\\Own work\\\\agile-advantage\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Sibela\\\\Own work\\\\agile-advantage\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Sibela\\\\Own work\\\\agile-advantage\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Sibela\\\\Own work\\\\agile-advantage\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Sibela\\\\Own work\\\\agile-advantage\\\\front-end\\\\src\\\\app\\\\Insights.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from 'react-router-dom';\nimport SingleArticle from './SingleArticle';\nimport Background from './img/Banners/AAC-insights.jpg';\nimport './scss/insights.css';\n\nvar Insights =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Insights, _Component);\n\n  function Insights(props) {\n    var _this;\n\n    _classCallCheck(this, Insights);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Insights).call(this, props));\n\n    _this.onResize = function () {\n      _this.setState({\n        windowWidth: window.document.documentElement.clientWidth\n      });\n\n      _this.toggleState();\n    };\n\n    _this.state = {\n      posts: [],\n      chosenFilter: \"all\",\n      tags: [\"insights\", \"trends\", \"growth\", \"news\", \"strategy\", \"education\"],\n      windowWidth: window.document.documentElement.clientWidth,\n      isMobile: false\n    };\n    return _this;\n  }\n\n  _createClass(Insights, [{\n    key: \"toggleState\",\n    value: function toggleState() {\n      if (this.state.windowWidth < 600) {\n        this.setState({\n          isMobile: true\n        });\n      } else {\n        this.setState({\n          isMobile: false\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      window.scrollTo(0, 0);\n      axios.get(\"https://public-api.wordpress.com/rest/v1/sites/agileadvantage462538617.wordpress.com/posts\").then(function (res) {\n        _this2.setState({\n          posts: res.data.posts\n        });\n      }).catch(function (error) {\n        return console.log(error);\n      });\n      this.setState({\n        windowWidth: window.document.documentElement.clientWidth\n      });\n      window.addEventListener(\"resize\", this.onResize);\n      this.toggleState();\n    }\n  }, {\n    key: \"handleTagChange\",\n    value: function handleTagChange(event) {\n      console.log(event.target.innerHTML);\n      var chosenTag = event.target.innerHTML.toLowerCase();\n      chosenTag.splice(\"(\", 3);\n      event.target.className += \" active-tag\";\n\n      if (chosenTag === this.state.chosenFilter) {\n        this.setState({\n          chosenFilter: \"all\"\n        });\n      } else {\n        this.setState({\n          chosenFilter: chosenTag\n        });\n      }\n    }\n  }, {\n    key: \"getFilteredPosts\",\n    value: function getFilteredPosts() {\n      var _this3 = this;\n\n      var filteredPosts = [];\n\n      if (this.state.chosenFilter !== \"all\") {\n        filteredPosts = this.state.posts.filter(function (post) {\n          var individual = Object.keys(post.tags);\n          var indTags = [];\n\n          for (var i = 0; i < individual.length; i++) {\n            indTags.push(individual[i]);\n          }\n\n          if (_this3.state.chosenFilter) {\n            return indTags.indexOf(_this3.state.chosenFilter) >= 0;\n          }\n        });\n      } else {\n        filteredPosts = this.state.posts;\n      }\n\n      return filteredPosts;\n    }\n  }, {\n    key: \"getAllTags\",\n    value: function getAllTags() {\n      var posts = this.state.posts;\n      var tags = {\n        insights: 0,\n        trends: 0,\n        growth: 0,\n        news: 0,\n        strategy: 0,\n        education: 0\n      };\n\n      for (var i = 0; i < posts.length; i++) {\n        var individualTags = posts[i].tags;\n        var numTags = Object.keys(individualTags).length;\n\n        for (var j = 0; j < numTags; j++) {\n          if (!(Object.keys(individualTags).length === 0 && individualTags.constructor === Object)) {\n            var tagName = individualTags[Object.keys(individualTags)[j]].name;\n\n            switch (tagName) {\n              case \"insights\":\n                tags.insights++;\n                break;\n\n              case \"trends\":\n                tags.trends++;\n                break;\n\n              case \"growth\":\n                tags.growth++;\n                break;\n\n              case \"news\":\n                tags.news++;\n                break;\n\n              case \"strategy\":\n                tags.strategy++;\n                break;\n\n              case \"education\":\n                tags.education++;\n                break;\n\n              default:\n                break;\n            }\n          }\n        }\n      }\n\n      return tags;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var tags = this.getAllTags();\n      var filteredPosts = this.getFilteredPosts();\n      var middleScreen = this.state.windowWidth < 800 && this.state.windowWidth > 600 ? \"insights-middle\" : \"\";\n      return React.createElement(\"div\", {\n        className: \"blog\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"mainpage-banner page\",\n        \"data-aos\": \"fade-down\",\n        style: {\n          backgroundImage: \"url(\".concat(Background, \")\"),\n          backgroundPosition: \"10% 70%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"mainpage-banner-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"The best vision is insight\"), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Malcolm Forbes\"))), React.createElement(\"div\", {\n        className: \"blogpage-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"tags\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, this.state.tags.map(function (tag) {\n        return React.createElement(\"div\", {\n          key: tag,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, tags[Object.keys(tags)[Object.keys(tags).indexOf(tag)]] ? React.createElement(\"div\", {\n          className: \"tag\",\n          key: tag,\n          onClick: _this4.handleTagChange.bind(_this4),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, tag.toUpperCase(), \"(\", tags[Object.keys(tags)[Object.keys(tags).indexOf(tag)]], \")\") : React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }));\n      })), React.createElement(\"ul\", {\n        className: this.state.isMobile ? \"articles-list-mobile\" : \"articles-list \" + middleScreen,\n        \"data-aos\": \"fade-up\",\n        \"data-aos-offset\": \"100\",\n        \"data-aos-easing\": \"ease-in-sine\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"=\", filteredPosts.map(function (post) {\n        return React.createElement(Link, {\n          key: post.ID,\n          className: \"single-service \" + post.ID,\n          to: {\n            pathname: \"/insights/\".concat(post.slug),\n            state: {\n              fromParent: post\n            }\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: post.featured_image,\n          alt: \"article-img\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, post.title.toUpperCase()));\n      }))));\n    }\n  }]);\n\n  return Insights;\n}(Component);\n\nexport { Insights as default };","map":{"version":3,"sources":["C:\\Sibela\\Own work\\agile-advantage\\front-end\\src\\app\\Insights.js"],"names":["React","Component","axios","Link","SingleArticle","Background","Insights","props","onResize","setState","windowWidth","window","document","documentElement","clientWidth","toggleState","state","posts","chosenFilter","tags","isMobile","scrollTo","get","then","res","data","catch","error","console","log","addEventListener","event","target","innerHTML","chosenTag","toLowerCase","splice","className","filteredPosts","filter","post","individual","Object","keys","indTags","i","length","push","indexOf","insights","trends","growth","news","strategy","education","individualTags","numTags","j","constructor","tagName","name","getAllTags","getFilteredPosts","middleScreen","backgroundImage","backgroundPosition","map","tag","handleTagChange","bind","toUpperCase","ID","pathname","slug","fromParent","featured_image","title"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from 'react-router-dom'\r\nimport SingleArticle from './SingleArticle'\r\nimport Background from './img/Banners/AAC-insights.jpg'\r\nimport './scss/insights.css'\r\n\r\nexport default class Insights extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      posts: [],\r\n      chosenFilter: \"all\",\r\n      tags: [\"insights\", \"trends\", \"growth\", \"news\", \"strategy\", \"education\"],\r\n      windowWidth:  window.document.documentElement.clientWidth,\r\n      isMobile: false\r\n    };\r\n  }\r\n  toggleState() {\r\n    if (this.state.windowWidth < 600) {\r\n      this.setState({\r\n        isMobile: true\r\n      });\r\n    }\r\n    else {\r\n      this.setState({\r\n        isMobile: false\r\n      });\r\n    }\r\n  }\r\n  onResize = () => {\r\n    this.setState({\r\n      windowWidth: window.document.documentElement.clientWidth\r\n    });\r\n    this.toggleState();\r\n  }\r\n  componentDidMount() {\r\n    window.scrollTo(0, 0);\r\n    axios\r\n      .get(\r\n        \"https://public-api.wordpress.com/rest/v1/sites/agileadvantage462538617.wordpress.com/posts\"\r\n      )\r\n      .then(res => {\r\n        this.setState({ posts: res.data.posts, });\r\n      })\r\n      .catch(error => console.log(error));\r\n\r\n      this.setState({\r\n        windowWidth: window.document.documentElement.clientWidth\r\n      });\r\n      window.addEventListener(\"resize\", this.onResize);\r\n      this.toggleState();\r\n  }\r\n  handleTagChange(event) {\r\n    console.log(event.target.innerHTML);\r\n    var chosenTag = event.target.innerHTML.toLowerCase();\r\n    chosenTag.splice(\"(\", 3);\r\n    event.target.className += \" active-tag\";\r\n    if (chosenTag === this.state.chosenFilter) {\r\n      this.setState({ chosenFilter: \"all\"});\r\n    }\r\n    else {\r\n      this.setState({ chosenFilter: chosenTag});\r\n    }\r\n  }\r\n  getFilteredPosts() {\r\n    var filteredPosts = [];\r\n\r\n    if (this.state.chosenFilter !== \"all\") {\r\n      filteredPosts = this.state.posts.filter(post => {\r\n        var individual = Object.keys(post.tags);\r\n        var indTags = [];\r\n        for(var i=0; i<individual.length; i++) {\r\n          indTags.push(individual[i]);\r\n        }\r\n        if (this.state.chosenFilter){\r\n          return (indTags.indexOf(this.state.chosenFilter) >= 0);\r\n        }\r\n      })\r\n    }\r\n    else {\r\n      filteredPosts = this.state.posts;\r\n    }\r\n\r\n    return filteredPosts;\r\n  }\r\n  getAllTags() {\r\n    var posts = this.state.posts;\r\n    var tags = {\r\n      insights: 0,\r\n      trends: 0,\r\n      growth: 0,\r\n      news: 0,\r\n      strategy: 0,\r\n      education: 0\r\n    }\r\n    for (var i = 0; i < posts.length; i++) {\r\n      var individualTags = posts[i].tags;\r\n      var numTags = Object.keys(individualTags).length;\r\n      for (var j = 0; j < numTags; j++){\r\n        if (!(Object.keys(individualTags).length === 0 && individualTags.constructor === Object)) {\r\n          var tagName = individualTags[Object.keys(individualTags)[j]].name;\r\n          switch(tagName) {\r\n            case \"insights\":\r\n              tags.insights ++;\r\n              break;\r\n            case \"trends\":\r\n              tags.trends ++;\r\n              break;\r\n            case \"growth\":\r\n              tags.growth ++;\r\n              break;\r\n            case \"news\":\r\n              tags.news ++;\r\n              break;\r\n            case \"strategy\":\r\n              tags.strategy ++;\r\n              break;\r\n            case \"education\":\r\n              tags.education ++;\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return tags;\r\n  }\r\n  render() {\r\n    var tags = this.getAllTags();\r\n    var filteredPosts = this.getFilteredPosts();\r\n    var middleScreen = (this.state.windowWidth < 800 && this.state.windowWidth > 600) ? \"insights-middle\" : \"\";\r\n    return (\r\n      <div className=\"blog\">\r\n      <div className=\"mainpage-banner page\" data-aos=\"fade-down\" style={{backgroundImage: `url(${Background})`, backgroundPosition: \"10% 70%\"}}>\r\n        <div className=\"mainpage-banner-text\">\r\n          <h1>The best vision is insight</h1>\r\n          <h2>Malcolm Forbes</h2>\r\n        </div>\r\n      </div>\r\n      <div className=\"blogpage-content\">\r\n      <ul className=\"tags\">\r\n        {this.state.tags.map((tag) => (\r\n          <div key={tag}>\r\n            {tags[Object.keys(tags)[Object.keys(tags).indexOf(tag)]] ?\r\n            <div className=\"tag\" key={tag} onClick={this.handleTagChange.bind(this)}>\r\n              {tag.toUpperCase()}\r\n              ({tags[Object.keys(tags)[Object.keys(tags).indexOf(tag)]]})\r\n            </div>\r\n            : <div/>\r\n            }\r\n          </div>\r\n        ))}\r\n      </ul>\r\n      <ul className={this.state.isMobile ? \"articles-list-mobile\" :\"articles-list \" + middleScreen} data-aos=\"fade-up\"\r\n     data-aos-offset=\"100\"\r\n     data-aos-easing=\"ease-in-sine\">=\r\n      {filteredPosts.map((post) => (\r\n        <Link key = {post.ID} className={\"single-service \" + post.ID} to={{\r\n          pathname: `/insights/${post.slug}`,\r\n          state: {\r\n            fromParent: post\r\n          }\r\n        }}>\r\n        <img src={post.featured_image} alt=\"article-img\"/>\r\n        <span>{post.title.toUpperCase()}</span>\r\n        </Link>\r\n      ))}\r\n      </ul>\r\n      </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}